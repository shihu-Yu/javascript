<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>多物体同时运动</title>
	<style type="text/css">
		*{
	    margin: 0;
	    padding: 0;
	}
	.container{
	    width: 400px;
	    margin: 100px auto;
	}
	.container div{
	    width: 100px;
	    height: 100px;
	    line-height: 100px;
	    background-color: #f00;
	    margin-top: 10px;
	    opacity: 0.1;
	    text-align: center;
	}
	</style>
</head>
<body>
	<div class="container">
        <div id="box1">变宽</div>
        <div id="box2">变高</div>
        <div id="box3">变红</div>
    </div>
</body>
<script type="text/javascript">
	var elem1 = document.getElementById('box1')
	var elem2 = document.getElementById('box2')
	var elem3 = document.getElementById('box3')
	var timer = 0
	elem1.onmouseover = function(){
		clearInterval(timer)

		var speed = 0
		timer = setInterval(function(){
		if(elem2.offsetHeight < 400){
			speed = 9
		}
		if (elem2.offsetHeight > 400) {
			speed = -9
		}
		if(Math.abs(elem2.offsetHeight - 400) < Math.abs(speed)){
			elem2.style.height = '400px'
			clearInterval(timer)
		}else{
			elem2.style.height = speed + elem2.offsetHeight + 'px' 
			}
		},50)
	}

	elem2.onmouseover = function(){
		clearInterval(timer)

		var speed = 0
		timer = setInterval(function(){
		if(elem2.offsetHeight < 400){
			speed = 9
		}
		if (elem2.offsetHeight > 400) {
			speed = -9
		}
		if(Math.abs(elem2.offsetHeight - 400) < Math.abs(speed)){
			elem2.style.height = '400px'
			clearInterval(timer)
		}else{
			elem2.style.height = speed + elem2.offsetHeight + 'px' 
			}
		},50)
	}

	elem3.onmouseover = function(){
		var speed = 0
		clearInterval(timer)

		timer = setInterval(function(){
		var current =parseFloat(getComputedStyle(elem3,false)["opacity"]) 
		current = Math.round(current * 100)
		if(current < 100){
			speed = 2
		}
		if (current > 100) {
			speed = -2
		}
		if(Math.abs(current - 100) < Math.abs(speed)){
			elem3.style.opacity = 1
			clearInterval(timer)
		}else{
			elem3.style.opacity = (speed + current) / 100 
			}
		},50)
	}
</script>
</html>